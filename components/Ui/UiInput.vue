<script setup>
import {computed, defineProps, ref} from 'vue';

const props = defineProps({
    modelValue: {type: [String, Number], required: true},
    label: {type: String},
    label2: {type: String},
    type: {type: String, default: 'text'},
    placeholder: {type: String, default: ""},
    error: {type: Boolean, default: false},
    disabled: {type: Boolean, default: false},
});

const emit = defineEmits(["update:modelValue"]);

const inputValue = ref(props.modelValue);
const updateValue = (event) => {
    inputValue.value = event.target.value;
    emit("update:modelValue", inputValue.value);
};
const showPassword = ref(false);
const inputType = computed(() => (showPassword.value ? 'text' : 'password'));

if (props.modelValue !== inputValue.value) {
    inputValue.value = props.modelValue;
}
const handleLabelClick = () => {
    if (!props.disabled)
        emit('labelClick');
};
</script>

<template>
    <div :class="{'error':error,'disabled':disabled}" class="input-form">
        <div class="flex justify-between">
            <label v-if="label">{{ props.label }}</label>
            <label v-if="label2" class="text-primary cursor-pointer"
                   @click="handleLabelClick()">{{ props.label2 }}</label>
        </div>
        <div class="input-class">
            <input
                v-model="inputValue"
                :disabled="props.disabled"
                :placeholder="props.placeholder"
                :type="props.type === 'password' ? inputType : props.type"
                @input="updateValue"
            >
            <button v-if="type=='password'" :disabled="disabled" class="px-1" type="button"
                    @click="showPassword=!showPassword">
                <svg v-if="showPassword" fill="none" height="18" viewBox="1 0 22 22" width="18"
                     xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M5.01991 14.6365C4.33997 13.7532 4 13.3115 4 12C4 10.6885 4.33997 10.2468 5.01991 9.36347C6.37757 7.59965 8.65449 5.60001 12 5.60001C15.3455 5.60001 17.6224 7.59965 18.9801 9.36347C19.66 10.2468 20 10.6885 20 12C20 13.3115 19.66 13.7532 18.9801 14.6365C17.6224 16.4004 15.3455 18.4 12 18.4C8.65449 18.4 6.37757 16.4004 5.01991 14.6365Z"
                        stroke="#1A1B1B" stroke-width="1.5"/>
                    <path
                        d="M14.4 12C14.4 13.3255 13.3255 14.4 12 14.4C10.6745 14.4 9.6 13.3255 9.6 12C9.6 10.6745 10.6745 9.60001 12 9.60001C13.3255 9.60001 14.4 10.6745 14.4 12Z"
                        stroke="#1A1B1B" stroke-width="1.5"/>
                </svg>
                <svg v-else fill="none" height="10" viewBox="0 0 18 10" width="18" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M1.69034 0.704561C1.52717 0.323838 1.08626 0.147475 0.705537 0.310641C0.324815 0.473808 0.148451 0.914717 0.311618 1.29544L1.69034 0.704561ZM11.8707 6.06296L11.596 5.36508L11.8707 6.06296ZM6.75986 6.472C6.98577 6.12481 6.88745 5.66023 6.54027 5.43432C6.19308 5.20842 5.72849 5.30673 5.50259 5.65392L6.75986 6.472ZM4.37234 7.39096C4.14643 7.73815 4.24475 8.20273 4.59194 8.42864C4.93912 8.65455 5.40371 8.55623 5.62962 8.20904L4.37234 7.39096ZM17.6903 1.29544C17.8535 0.914717 17.6771 0.473808 17.2964 0.310641C16.9157 0.147475 16.4748 0.323838 16.3116 0.704561L17.6903 1.29544ZM14.601 4.30307L14.0877 3.75622L14.0877 3.75622L14.601 4.30307ZM15.2706 6.0334C15.5635 6.32629 16.0384 6.32629 16.3313 6.0334C16.6242 5.74051 16.6242 5.26563 16.3313 4.97274L15.2706 6.0334ZM8.25098 8.6C8.25098 9.01421 8.58676 9.35 9.00098 9.35C9.41519 9.35 9.75098 9.01421 9.75098 8.6H8.25098ZM12.3723 8.20904C12.5982 8.55623 13.0628 8.65455 13.41 8.42864C13.7572 8.20273 13.8555 7.73815 13.6296 7.39096L12.3723 8.20904ZM3.93131 4.8334C4.2242 4.54051 4.2242 4.06563 3.93131 3.77274C3.63841 3.47985 3.16354 3.47985 2.87065 3.77274L3.93131 4.8334ZM1.67065 4.97274C1.37775 5.26563 1.37775 5.74051 1.67065 6.0334C1.96354 6.32629 2.43841 6.32629 2.73131 6.0334L1.67065 4.97274ZM9.00098 5.85C6.47709 5.85 4.6623 4.5946 3.45057 3.28966C2.84493 2.63743 2.40048 1.98284 2.10795 1.49139C1.9621 1.24637 1.85519 1.04388 1.78586 0.905215C1.75122 0.83594 1.72605 0.78277 1.71017 0.748391C1.70223 0.731207 1.69663 0.718736 1.69333 0.711314C1.69168 0.707604 1.6906 0.705157 1.69011 0.704017C1.68986 0.703447 1.68975 0.703204 1.68979 0.703293C1.68981 0.703337 1.68986 0.703464 1.68996 0.703675C1.69 0.703781 1.6901 0.704002 1.69012 0.704055C1.69022 0.704297 1.69034 0.704561 1.00098 1C0.311618 1.29544 0.311749 1.29575 0.31189 1.29607C0.311949 1.29621 0.312099 1.29656 0.312218 1.29684C0.312455 1.29739 0.31273 1.29802 0.313043 1.29875C0.313668 1.30019 0.314443 1.30198 0.315369 1.3041C0.317221 1.30834 0.319677 1.31393 0.322739 1.32081C0.328862 1.33458 0.337414 1.35356 0.348422 1.37739C0.370433 1.42504 0.402294 1.49219 0.444219 1.57604C0.528012 1.74362 0.652349 1.97863 0.819007 2.25861C1.15148 2.81716 1.65702 3.56257 2.35138 4.31034C3.73965 5.8054 5.92487 7.35 9.00098 7.35V5.85ZM11.596 5.36508C10.8364 5.66406 9.9747 5.85 9.00098 5.85V7.35C10.1712 7.35 11.2189 7.12554 12.1454 6.76084L11.596 5.36508ZM5.50259 5.65392L4.37234 7.39096L5.62962 8.20904L6.75986 6.472L5.50259 5.65392ZM17.001 1C16.3116 0.704561 16.3117 0.704408 16.3117 0.704262C16.3118 0.704222 16.3118 0.704083 16.3119 0.704003C16.3119 0.703843 16.312 0.70371 16.312 0.703603C16.3121 0.703389 16.3122 0.70328 16.3122 0.703275C16.3122 0.703265 16.312 0.703671 16.3116 0.704486C16.3109 0.706115 16.3095 0.709377 16.3073 0.714213C16.303 0.723886 16.2958 0.739844 16.2856 0.761614C16.2653 0.805169 16.2334 0.871884 16.1894 0.957986C16.1015 1.13036 15.9663 1.37941 15.782 1.67524C15.412 2.26905 14.8514 3.03942 14.0877 3.75622L15.1143 4.84992C15.9975 4.02094 16.6368 3.13977 17.0551 2.4685C17.2649 2.13178 17.4209 1.8449 17.5257 1.63947C17.5781 1.53668 17.6178 1.45403 17.6452 1.39544C17.6588 1.36614 17.6694 1.34284 17.6769 1.32601C17.6807 1.3176 17.6837 1.31081 17.6859 1.30569C17.687 1.30313 17.6879 1.301 17.6887 1.29928C17.689 1.29843 17.6894 1.29768 17.6896 1.29704C17.6898 1.29672 17.6899 1.29642 17.69 1.29616C17.6901 1.29602 17.6902 1.29584 17.6902 1.29578C17.6903 1.29561 17.6903 1.29544 17.001 1ZM14.0877 3.75622C13.4113 4.39112 12.5839 4.97624 11.596 5.36508L12.1454 6.76084C13.3455 6.28847 14.3302 5.58589 15.1143 4.84992L14.0877 3.75622ZM14.0706 4.8334L15.2706 6.0334L16.3313 4.97274L15.1313 3.77274L14.0706 4.8334ZM8.25098 6.6V8.6H9.75098V6.6H8.25098ZM11.2421 6.472L12.3723 8.20904L13.6296 7.39096L12.4994 5.65392L11.2421 6.472ZM2.87065 3.77274L1.67065 4.97274L2.73131 6.0334L3.93131 4.8334L2.87065 3.77274Z"
                        fill="#1A1B1B"/>
                </svg>

            </button>
        </div>
    </div>
</template>

<style scoped>

</style>